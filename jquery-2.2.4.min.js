<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta charset="utf8"/>
<meta http-equiv="pragma" content="no-cache"/>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"/>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="apple-mobile-web-app-title" content="Transform Rotate"/>

<title>transform - rotate</title>
<script>
var imgurl = 'https://1.bp.blogspot.com/-SgT2G_vDGwE/XQjt4RWH1TI/AAAAAAABTNc/0He0eUi8-7QAd0RDvxWGA1MBzphu9hvsgCLcBGAs/s450/animal_chara_computer_penguin.png';

$(function(){
  var _imgurl = getParam( 'imgurl' );
  if( _imgurl ){ imgurl = _imgurl; }

  console.log( 'imgurl=' + imgurl );
  $('#img').prop( 'src', imgurl );

  $('#range_x').on( 'input change', function(){
    var x = parseInt( $(this).val() );
    $('#display_x').html( x );
    rotateX( x );
  });

  $('#range_y').on( 'input change', function(){
    var y = parseInt( $(this).val() );
    $('#display_y').html( y );
    rotateY( y );
  });

  $('#range_z').on( 'input change', function(){
    var z = parseInt( $(this).val() );
    $('#display_z').html( z );
    rotateZ( z );
  });
});

function rotateX( x ){
  $('#div_x').css( 'transform', 'rotateX('+x+'deg)' );
}

function rotateY( y ){
  $('#div_y').css( 'transform', 'rotateY('+y+'deg)' );
}

function rotateZ( z ){
  $('#div_z').css( 'transform', 'rotateZ('+z+'deg)' );
}

function getParam( name, url ){
  if( !url ){ url = window.location.href; }
  name = name.replace( /[\[\]]/g, "\\$&" );
  var regex = new RegExp( "[?&]" + name + "(=([^&#]*)|&|#|$)" ),
      results = regex.exec( url );
  if( !results ) return null;
  if( !results[2] ) return '';

  return decodeURIComponent( results[2].replace( /\+/g, " " ) );
}
</script>
<style>
html, body {
	width: 100%;
	height: 100%;
	padding: 0px;
	margin: 0px;
}
</style>
</head>
<body>
  <div id="div_img" style="text-align: center;">
    <div id="div_x"> <div id="div_y"> <div id="div_z">
    <img id="img" width="40%"/>
    </div> </div> </div>
  </div>

  <div style="text-align: center;">
  <div>
    <label for="range_x">X</label>
    <input type="range" id="range_x" name="range_x" min="-180" max="180" value="0"/>
    <span id="display_x">0</span>
  </div>

  <div>
    <label for="range_x">Y</label>
    <input type="range" id="range_y" name="range_y" min="-180" max="180" value="0"/>
    <span id="display_y">0</span>
  </div>

  <div>
    <label for="range_z">Z</label>
    <input type="range" id="range_z" name="range_z" min="-180" max="180" value="0"/>
    <span id="display_z">0</span>
  </div>
  </div>
</body>
</html>
